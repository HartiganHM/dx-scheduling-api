# This is the schema representation of your database in graphql language.

type User {
  id: ID! @unique
  createdAt: DateTime! @createdAt
  updatedAt: DateTime! @updatedAt
  firstName: String!
  lastName: String!
  email: String!
  roles: [Role!]! @relation(name: "RoleOnUser")
}

type Role {
  id: ID! @unique
  createdAt: DateTime! @createdAt
  updatedAt: DateTime! @updatedAt
  name: String!
  permissions: [Permission!]! @relation(name: "PermissionOnRole")
  users: [User!]! @relation(name: "UserOnRole")
}

type Permission {
  id: ID! @unique
  createdAt: DateTime! @createdAt
  updatedAt: DateTime! @updatedAt
  name: String!
  roles: [Role!]! @relation(name: "RoleOnPermission")
}

type Client {
  id: ID! @unique
  createdAt: DateTime! @createdAt
  updatedAt: DateTime! @updatedAt
  firstName: String!
  lastName: String!
  dob: String!
  gender: String!
  school: String!
  grade: String!
  parents: [Parent!]! @relation(name: "ParentOnClient", link: INLINE, onDelete: CASCADE)
}

type Parent {
  id: ID! @unique
  createdAt: DateTime! @createdAt
  updatedAt: DateTime! @updatedAt
  firstName: String!
  lastName: String!
  phoneNumber: String!
  email: String!
  address: Address! @relation(name: "AddressOnParent", link: INLINE, onDelete: CASCADE)
  isInSameHousehold: Boolean!
  dob: String
}

type Address {
  id: ID! @unique
  createdAt: DateTime! @createdAt
  updatedAt: DateTime! @updatedAt
  street: String!
  city: String!
  state: String!
  zip: String!
}